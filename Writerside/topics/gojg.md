# Basic Structure

GO语言程序所有的结构将在这一章或接下来的章节中进一步地解释说明，但总体思路如下：
1. 在完成包的 import 之后，开始对常量、变量和类型的定义或声明。
2. 如果存在 init 函数的话，则对该函数进行定义（这是一个特殊的函数，每个含有该函数的包都会首先执行这个函数）。
3. 如果当前包是 main 包，则定义 main 函数。
4. 然后定义其余的函数，首先是类型的方法，接着是按照 main 函数中先后调用的顺序来定义相关函数，如果有很多函数，则可以按照字母顺序来进行排序。

## Basic Structure of Go

Go语言的基本结构包括以下几个部分：

### 1. **包声明**：
在Go语言中，每个文件都属于一个包。包是Go语言组织代码（结构化代码）的方式。你必须在源文件中非注释的第一行指明这个文件属于哪个包，如：`package main`。`package main` 表示一个可独立执行的程序，每个Go语言程序都包含一个名为`main`的包。

```go
package main
```

一个应用程序可以包含不同的包，而且即使你只使用 `main` 包也不必把所有的代码都写在一个巨大的文件里，
你可以用一些较小的文件，并且在每个文件非注释的第一行都使用 `package main `来指明这些文件都属于` main `包。
如果你打算编译包名不是为 `main` 的源文件，如 `pack1`，编译后产生的对象文件将会是 `pack1.a `而不是可执行程序。
另外要注意的是，所有的包名都应该使用**小写字母**。

### 2. **导入包**：
Go语言使用`import`关键字来导入其他包。

```go
import "fmt"
```
如果需要多个包，它们可以被分别导入：
```Go
import "fmt"
import "os"
//或
import (
   "fmt"
   "os"
)
```
导入包即等同于包含了这个包的所有的代码对象。当你导入多个包时，最好按照字母顺序排列包名，这样做更加清晰易读。

如果包名不是以 `.` 或 `/` 开头，如 `"fmt"` 或者 `"container/list"`，则 Go 会在全局文件进行查找；如果包名以 `./ `开头，则 Go 会在相对目录中查找；如果包名以 `/` 开头（在 Windows 下也可以这样使用），则会在系统的绝对路径中查找。

Go 的标准库包含了大量的包（如：fmt 和 os），但是你也可以创建自己的包。
如果想要构建一个程序，则包和包内的文件都必须以正确的顺序进行编译。包的依赖关系决定了其构建顺序。
属于同一个包的源文件必须全部被一起编译，一个包即是编译时的一个单元，因此根据惯例，每个目录都只包含一个包。

**如果对一个包进行更改或重新编译，所有引用了这个包的客户端程序都必须全部重新编译。**

### 3. **函数**：
一个函数代表了一块可以执行的代码。每个Go语言程序都从名为`main`的函数开始执行。
   符合规范的函数一般写成如下的形式：
```go
func functionName(parameter_list) (return_value_list) {
   …
}
//例：
func main() {
    // ...
}
```

你可以在括号 `()` 中写入 0 个或多个函数的参数（使用逗号 `,` 分隔），每个参数的名称后面必须紧跟着该参数的类型。
即：
* `parameter_list` 的形式为 `(param1 type1, param2 type2, …)`
* `return_value_list` 的形式为 `(ret1 type1, ret2 type2, …)`

例如：
```Go
func Sum(a, b int) int { 
    return a + b 
}
```
只有当某个函数需要被外部包调用的时候才使用大写字母开头，并遵循 Pascal 命名法；
否则就遵循骆驼命名法，即第一个单词的首字母小写，其余单词的首字母大写。

下面这一行调用了 `fmt` 包中的 `Println` 函数，可以将字符串输出到控制台，并在最后自动增加换行字符 `\n`：
```Go
fmt.Println（"hello, world"）
```
函数也可以是一个确定的类型，就是以函数作为返回类型。这种类型的声明要写在函数名和可选的参数列表之后，在函数体中的某处返回使用类型为 `typeFunc` 的变量 var：
```Go
func FunctionName (a typea, b typeb) typeFunc{return var}
```

**_注意：_
_需要注意的是 `{ `不能单独放在一行，所以以下代码在运行时会产生错误：_**
```Go
package main
import "fmt"
func main()  
{  // 错误，{ 不能在单独的行上
    fmt.Println("Hello, World!")
}
```

### 4. **变量**：
变量用于存储数据。在Go语言中，你可以使用`var`关键字来声明一个变量。

```go
var x int
```

### 5. **语句 & 表达式**：
语句代表了一个执行单元，而表达式则会产生一个值。

```go
x = 3 // 语句
x + 2 // 表达式
```

### 6. **注释**：
注释用于解释代码。在Go语言中，你可以使用`//`来写单行注释，或者使用`/* */`来写多行注释。

```go
// 这是一个单行注释

/*
这是一个
多行注释
*/
```
## Examples

以上就是Go语言的基本结构。一个简单的Go语言程序可能看起来像这样：

```go
package main

import (
   "fmt"
)

const c = "C"

var v int = 5

type T struct{}

func init() { // initialization of package
}

func main() {
   var a int
   Func1()
   // ...
   fmt.Println(a)
}

func (t T) Method1() {
   //...
}

func Func1() { // exported function Func1
   //...
}
```
Go 程序的执行（程序启动）顺序如下：
1. 按顺序导入所有被 main 包引用的其它包，然后在每个包中执行如下流程：
2. 如果该包又导入了其它的包，则从第一步开始递归执行，但是每个包只会被导入一次。
3. 然后以相反的顺序在每个包中初始化常量和变量，如果该包含有 init 函数的话，则调用该函数。
4. 在完成这一切之后，main 也执行同样的过程，最后调用 main 函数开始执行程序。

## Naming Convention:
Go 命名规范:

干净、可读的代码和简洁性是 Go 追求的主要目标。
通过 `gofmt` 来强制实现统一的代码风格。
Go 语言中对象的命名也应该是简洁且有意义的。
像 Java 和 Python 中那样使用混合着大小写和下划线的冗长的名称会严重降低代码的可读性。
名称不需要指出自己所属的包，因为在调用的时候会使用包名作为限定符。
返回某个对象的函数或方法的名称一般都是使用名词，没有 `Get...` 之类的字符，如果是用于修改某个对象，则使用 `SetName`。
有必须要的话可以使用大小写混合的方式，如 `MixedCaps` 或 `mixedCaps`，而不是使用下划线来分割多个名称。

